## Сервис для контроля Pull requests

## Вопросы по проекту
1. Схема для таблицы `users` из задания и OpenApi спецификации не совсем ясно, может ли один пользователь находиться в нескольких командах. Скорее всего, это должно быть так, но из метода для изменения `isActive` для пользователей я сделал вывод, что один пользователь может находиться только в одной команде. Поэтому я реализовал именно такой подход. **One To Many**
2. Описанный метод для добавления команды из `openapi.yaml` файла содержит строку `Создать команду с участниками (создаёт/обновляет пользователей)`. Я не совсем понял из описания данного метода про *обновление* команды, так как в описании ошибок для данного метода код `400` возвращается в том случае, когда тело запроса содержит уже существующую команду. Но если бы метод отвечал еще и за обновление данных, то такой ошибки в ответе не должно быть.

## Дополнительно реализованные задачи
1. Реализовано интеграционное тестирование.
2. Реализован эндпоинт статистики по количеству назначений для каждого из PR.
- Метод и путь: `GET` `/pullRequest/statistics`
- Ответ `JSON`:
```json
{
    "stat": [
        {
            "pull_request_id": "pr-1",
            "quantity_reviewers": 1,   
        },
        {
            "pull_request_id": "pr-2",
            "quantity_reviewers": 2,
        }
    ]
}
```

### В проекте использованы технологии
- **Golang** - язык программирования
- **PostgreSQL** - реляционная база данных
- **Docker** - сервис для управления контейнерами
- **Docker Compose** - сервис для оркестрации контейнерами
- **Make** - утилита для помощи сборки проектов
- **Git** - система контроля версий

### В проекте использованы библиотеки
- [sqlx](https://github.com/jmoiron/sqlx) - мощная библиотека для работы с базами данных для ЯП Golang
- [pq](https://github.com/lib/pq) - драйвер для PostgreSQL
- [migrate](https://github.com/golang-migrate/migrate/v4) - библиотека для миграции баз данных
- [viper](https://github.com/spf13/viper) - библиотека для работы с конфигурациями и парсинга файлов
- [mock](https://go.uber.org/mock) - создание `mock` из интерфейсов
- [testify](https://github.com/stretchr/testify) - инструмент помощи при тестировании
- [go-sqlmock](https://github.com/DATA-DOG/go-sqlmock) - инструмент для тестирования слоя с базой данных

### Запуск проекта

Запуск с проекта помощью Makefile
```bash
make run
```
Сервис будет доступен на порту **`8080`**.

Остановить приложение
```bash
make stop
```
Команда чтобы запустить тесты:
```bash
go test ./... -count=1
```

### HTTP API методы
OpenApi конфигурация хранится в `./spec/openapi.yml` файле.